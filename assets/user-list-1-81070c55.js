import{u as A,r as j,j as e,F as E,A as M,B as x,P as T,i as B,Q as H,e as L,S as O}from"./index-90aa246b.js";import{T as F,E as I,a as q}from"./TableMoreMenu-2d696bb5.js";import{T as C,D as z,a as N}from"./TableDataNotFound-8749678a.js";import{S as W}from"./SearchArea-ad8b6b0b.js";import{U as _,H as Q}from"./add-new-user-eb8ee4cf.js";import{a as P,c,T as V,b as G}from"./TableRow-5342b16e.js";import{C as w}from"./Checkbox-19258f51.js";import{T as J}from"./TableHead-9087602b.js";import{T as K,u as X,s as Y,g as Z}from"./useMuiTable-8c556244.js";import{v as $}from"./visuallyHidden-14c3de6e.js";import{T as ee}from"./TableContainer-3ec4fd37.js";import{T as re}from"./TablePagination-f9b180ec.js";import"./Modal-88144481.js";import"./formik.esm-15c98e0c.js";import"./AvatarBadge-ffc09ac8.js";import"./Tooltip-075e9210.js";import"./Popper-dbdc72d8.js";import"./MoreVert-72a5aac9.js";import"./ListItemIcon-dad9535a.js";import"./ListItemText-769a06cd.js";import"./Search-8942b3b9.js";import"./Apps-e0d7bfa7.js";import"./IconWrapper-ed213dad.js";import"./Add-12dd9d81.js";import"./Stack-75c951b2.js";import"./CameraAlt-00e639bd.js";import"./DatePicker-86a5d4c2.js";import"./DesktopDatePicker-65be0cfb.js";import"./DialogActions-fd8d771c.js";import"./DialogContent-c7d92308.js";import"./City-53f395e8.js";import"./Edit-d33292cb.js";import"./Facebook-31e12494.js";import"./MoreHorizontal-d7ef967e.js";import"./Switch-685fef6d.js";import"./SwitchBase-3d67df03.js";import"./LastPage-555596a7.js";const ae=h=>{const{user:s,isSelected:n,handleSelectRow:i,handleDeleteUser:o}=h,d=A(),[p,l]=j.useState(null),a=u=>{l(u.currentTarget)},t=()=>l(null);return e.jsxs(P,{hover:!0,children:[e.jsx(c,{padding:"checkbox",children:e.jsx(w,{size:"small",color:"primary",checked:n,onClick:u=>i(u,s.id)})}),e.jsx(c,{padding:"normal",children:e.jsxs(E,{alignItems:"center",gap:2,children:[e.jsx(M,{src:s.avatar,alt:s.name,variant:"rounded"}),e.jsxs(x,{children:[e.jsx(T,{fontWeight:500,color:"text.primary",sx:{":hover":{textDecoration:"underline",cursor:"pointer"}},children:s.name}),e.jsxs(T,{fontSize:13,children:["#",s.id.substring(0,11)]})]})]})}),e.jsx(c,{padding:"normal",children:s.email}),e.jsx(c,{padding:"normal",children:s.company}),e.jsx(c,{padding:"normal",children:s.role}),e.jsx(c,{padding:"normal",children:e.jsxs(F,{open:p,handleOpen:a,handleClose:t,children:[e.jsx(C,{Icon:I,title:"Edit",handleClick:()=>{t(),d("/dashboard/add-user")}}),e.jsx(C,{Icon:z,title:"Delete",handleClick:()=>{t(),o(s.id)}})]})})]})},se=[{id:"name",numeric:!0,disablePadding:!1,label:"Name"},{id:"email",numeric:!1,disablePadding:!1,label:"Email"},{id:"company",numeric:!0,disablePadding:!1,label:"Company"},{id:"role",numeric:!0,disablePadding:!1,label:"Role"},{id:"actions",numeric:!0,disablePadding:!1,label:"Actions"}],ne=h=>{const{onSelectAllRows:s,order:n,orderBy:i,numSelected:o,rowCount:d,onRequestSort:p}=h,l=a=>t=>{p(t,a)};return e.jsx(J,{sx:{backgroundColor:a=>B(a)?"grey.700":"grey.100"},children:e.jsxs(P,{children:[e.jsx(c,{padding:"checkbox",children:e.jsx(w,{size:"small",color:"primary",onChange:s,checked:d>0&&o===d,indeterminate:o>0&&o<d})}),se.map(a=>e.jsx(c,{padding:a.disablePadding?"none":"normal",sortDirection:i===a.id?n:!1,sx:{color:"text.primary",fontWeight:600},children:e.jsxs(K,{active:i===a.id,onClick:l(a.id),direction:i===a.id?n:"asc",children:[a.label,i===a.id?e.jsx(H,{sx:$,children:n==="desc"?"sorted descending":"sorted ascending"}):null]})},a.id))]})})},te=()=>{const[h,s]=j.useState([..._]),[n,i]=j.useState({role:"",search:""}),{page:o,order:d,orderBy:p,selected:l,isSelected:a,rowsPerPage:t,handleSelectRow:u,handleChangePage:R,handleRequestSort:v,handleSelectAllRows:f,handleChangeRowsPerPage:y}=X({defaultOrderBy:"name"}),S=(r,m)=>{i(b=>({...b,[r]:m}))},U=(r,m)=>{S("role",m)};let g=Y(h,Z(d,p)).filter(r=>n.role?r.role.toLowerCase()===n.role:n.search?r.name.toLowerCase().includes(n.search.toLowerCase()):!0);const k=r=>{s(m=>m.filter(b=>b.id!==r))},D=()=>{s(r=>r.filter(m=>!l.includes(m.id))),f([])()};return e.jsx(x,{pt:2,pb:4,children:e.jsxs(L,{children:[e.jsxs(x,{px:2,pt:2,children:[e.jsx(Q,{value:n.role,changeTab:U}),e.jsx(W,{value:n.search,gridRoute:"/dashboard/user-grid",listRoute:"/dashboard/user-list",onChange:r=>S("search",r.target.value)})]}),l.length>0&&e.jsx(q,{selected:l.length,handleDeleteRows:D}),e.jsx(ee,{children:e.jsx(O,{autoHide:!1,children:e.jsxs(V,{children:[e.jsx(ne,{order:d,orderBy:p,numSelected:l.length,rowCount:g.length,onRequestSort:v,onSelectAllRows:f(g.map(r=>r.id))}),e.jsxs(G,{children:[g.slice(o*t,o*t+t).map(r=>e.jsx(ae,{user:r,isSelected:a(r.id),handleSelectRow:u,handleDeleteUser:k},r.id)),g.length===0&&e.jsx(N,{})]})]})})}),e.jsx(x,{padding:1,children:e.jsx(re,{page:o,component:"div",rowsPerPage:t,count:g.length,onPageChange:R,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:y})})]})})},We=()=>e.jsx(te,{});export{We as default};
