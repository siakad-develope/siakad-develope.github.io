import{u as B,r as u,j as e,B as g,N as A,P as h,G as a,d as E,T as n,L as W,O as T,a as L}from"./index-90aa246b.js";import{b as q,A as k,a as N}from"./jwtContext-c9c126f9.js";import{c as R,a as l,b as H,u as O}from"./formik.esm-15c98e0c.js";import{L as F}from"./Layout-215fc650.js";import{A as I}from"./Alert-80a33a65.js";import{L as V}from"./LoadingButton-29e64df4.js";import"./Close-cd657bb8.js";import"./CircularProgress-f218bc4f.js";const{Axios:Y,AxiosError:z,CanceledError:Z,isCancel:_,CancelToken:ee,VERSION:re,all:se,Cancel:ae,isAxiosError:oe,spread:ie,toFormData:te,AxiosHeaders:ne,HttpStatusCode:le,formToJSON:de,getAdapter:me,mergeConfig:ce}=q,D=()=>{const w=B(),[x,p]=u.useState(null),[j,d]=u.useState(!1),{register:y,isAuthenticated:C,user:b}=u.useContext(k),v={name:"",email:"",password:"",confirmPassword:"",remember:!0},P=R().shape({name:l().max(100).required("Name is required"),email:l().email("Must be a valid email").max(255).required("Email is required"),password:l().min(6,"Password should be of minimum 6 characters length").required("Password is required"),confirmPassword:l().required("Please re-type your password").oneOf([H("password")],"Passwords does not match")}),{errors:r,values:o,touched:s,handleBlur:i,handleChange:t,handleSubmit:S}=O({initialValues:v,validationSchema:P,onSubmit:async m=>{var f;try{d(!0),await y(m.name,m.email,m.password),p(null),d(!1)}catch(c){console.log("register error -> ",c),c instanceof z&&p((f=c.response)==null?void 0:f.data.message),d(!1)}}});return console.log({user:b,isAuthenticated:C}),e.jsx(F,{children:e.jsxs(g,{maxWidth:550,p:4,children:[e.jsx(A,{fontSize:{sm:30,xs:25},children:"Sign up for 14 days free trial"}),e.jsx(h,{mt:1,mb:6,color:"text.secondary",children:"No risk, no obligations, no credit-card required."}),e.jsx("form",{onSubmit:S,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsxs(a,{item:!0,xs:12,children:[x&&e.jsx(I,{severity:"error",sx:{mb:3},children:x}),e.jsx(E,{fontSize:16,mb:2,children:"Register with your email id"}),e.jsx(n,{fullWidth:!0,placeholder:"Enter your name",name:"name",onBlur:i,value:o.name,onChange:t,helperText:s.name&&r.name,error:!!(s.name&&r.name)})]}),e.jsx(a,{item:!0,xs:12,children:e.jsx(n,{fullWidth:!0,placeholder:"Enter your work email",name:"email",type:"email",onBlur:i,value:o.email,onChange:t,helperText:s.email&&r.email,error:!!(s.email&&r.email)})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(n,{fullWidth:!0,type:"password",placeholder:"Enter your password",name:"password",onBlur:i,value:o.password,onChange:t,helperText:s.password&&r.password,error:!!(s.password&&r.password)})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(n,{fullWidth:!0,type:"password",placeholder:"Confirm your password",name:"confirmPassword",onBlur:i,onChange:t,value:o.confirmPassword,helperText:s.confirmPassword&&r.confirmPassword,error:!!(s.confirmPassword&&r.confirmPassword)})}),e.jsxs(a,{item:!0,xs:12,children:[e.jsx(V,{loading:j,type:"submit",variant:"contained",fullWidth:!0,children:"Sign up via Email"}),e.jsxs(h,{mt:1,color:"text.secondary",children:["By signing up, you agree"," ",e.jsx(g,{fontWeight:500,component:W,href:"#",children:"Terms of Service"})," ","& your consent to receiving email communications from Sales handy."]})]})]})}),e.jsx(T,{sx:{my:4,borderColor:"grey.200",borderWidth:1},children:e.jsx(h,{color:"text.secondary",px:1,children:"Already have an account?"})}),e.jsx(L,{fullWidth:!0,variant:"text",onClick:()=>w("/jwt/login"),sx:{backgroundColor:"primary.50"},children:"Log In"})]})})},ue=()=>e.jsx(N,{children:e.jsx(D,{})});export{ue as default};
