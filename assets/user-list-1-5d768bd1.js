import{u as A,r as j,j as e,F as E,A as M,B as x,P as T,i as B,Q as H,e as L,S as O}from"./index-fe46112a.js";import{T as F,E as I,a as q}from"./TableMoreMenu-680b78bd.js";import{T as C,D as z,a as N}from"./TableDataNotFound-a1405312.js";import{S as W}from"./SearchArea-41215d9d.js";import{U as _,H as Q}from"./add-new-user-d0f5c9ba.js";import{a as P,c,T as V,b as G}from"./TableRow-d71ac22c.js";import{C as w}from"./Checkbox-a1ff8553.js";import{T as J}from"./TableHead-b40e861a.js";import{T as K,u as X,s as Y,g as Z}from"./useMuiTable-f812aec2.js";import{v as $}from"./visuallyHidden-14c3de6e.js";import{T as ee}from"./TableContainer-284c5a39.js";import{T as re}from"./TablePagination-db911ac7.js";import"./Modal-7e83eecf.js";import"./formik.esm-4de4872a.js";import"./AvatarBadge-4e00c55c.js";import"./Tooltip-19c00876.js";import"./Popper-4ddeb155.js";import"./MoreVert-84651296.js";import"./ListItemIcon-0685b3cd.js";import"./ListItemText-e2b61adf.js";import"./Search-4f7e2573.js";import"./Apps-d3d20bfd.js";import"./IconWrapper-43836560.js";import"./Add-6947e5be.js";import"./Stack-1643198d.js";import"./CameraAlt-eef89d7a.js";import"./DatePicker-e98507c0.js";import"./DesktopDatePicker-33654346.js";import"./DialogActions-08e7086f.js";import"./DialogContent-73f6afda.js";import"./City-ae95fb98.js";import"./Edit-8acafccb.js";import"./Facebook-a4022e12.js";import"./MoreHorizontal-43735b0c.js";import"./Switch-5d38919d.js";import"./SwitchBase-97b0f4c8.js";import"./LastPage-c3cd6836.js";const ae=h=>{const{user:s,isSelected:n,handleSelectRow:i,handleDeleteUser:o}=h,d=A(),[p,l]=j.useState(null),a=u=>{l(u.currentTarget)},t=()=>l(null);return e.jsxs(P,{hover:!0,children:[e.jsx(c,{padding:"checkbox",children:e.jsx(w,{size:"small",color:"primary",checked:n,onClick:u=>i(u,s.id)})}),e.jsx(c,{padding:"normal",children:e.jsxs(E,{alignItems:"center",gap:2,children:[e.jsx(M,{src:s.avatar,alt:s.name,variant:"rounded"}),e.jsxs(x,{children:[e.jsx(T,{fontWeight:500,color:"text.primary",sx:{":hover":{textDecoration:"underline",cursor:"pointer"}},children:s.name}),e.jsxs(T,{fontSize:13,children:["#",s.id.substring(0,11)]})]})]})}),e.jsx(c,{padding:"normal",children:s.email}),e.jsx(c,{padding:"normal",children:s.company}),e.jsx(c,{padding:"normal",children:s.role}),e.jsx(c,{padding:"normal",children:e.jsxs(F,{open:p,handleOpen:a,handleClose:t,children:[e.jsx(C,{Icon:I,title:"Edit",handleClick:()=>{t(),d("/dashboard/add-user")}}),e.jsx(C,{Icon:z,title:"Delete",handleClick:()=>{t(),o(s.id)}})]})})]})},se=[{id:"name",numeric:!0,disablePadding:!1,label:"Name"},{id:"email",numeric:!1,disablePadding:!1,label:"Email"},{id:"company",numeric:!0,disablePadding:!1,label:"Company"},{id:"role",numeric:!0,disablePadding:!1,label:"Role"},{id:"actions",numeric:!0,disablePadding:!1,label:"Actions"}],ne=h=>{const{onSelectAllRows:s,order:n,orderBy:i,numSelected:o,rowCount:d,onRequestSort:p}=h,l=a=>t=>{p(t,a)};return e.jsx(J,{sx:{backgroundColor:a=>B(a)?"grey.700":"grey.100"},children:e.jsxs(P,{children:[e.jsx(c,{padding:"checkbox",children:e.jsx(w,{size:"small",color:"primary",onChange:s,checked:d>0&&o===d,indeterminate:o>0&&o<d})}),se.map(a=>e.jsx(c,{padding:a.disablePadding?"none":"normal",sortDirection:i===a.id?n:!1,sx:{color:"text.primary",fontWeight:600},children:e.jsxs(K,{active:i===a.id,onClick:l(a.id),direction:i===a.id?n:"asc",children:[a.label,i===a.id?e.jsx(H,{sx:$,children:n==="desc"?"sorted descending":"sorted ascending"}):null]})},a.id))]})})},te=()=>{const[h,s]=j.useState([..._]),[n,i]=j.useState({role:"",search:""}),{page:o,order:d,orderBy:p,selected:l,isSelected:a,rowsPerPage:t,handleSelectRow:u,handleChangePage:R,handleRequestSort:v,handleSelectAllRows:f,handleChangeRowsPerPage:y}=X({defaultOrderBy:"name"}),S=(r,m)=>{i(b=>({...b,[r]:m}))},U=(r,m)=>{S("role",m)};let g=Y(h,Z(d,p)).filter(r=>n.role?r.role.toLowerCase()===n.role:n.search?r.name.toLowerCase().includes(n.search.toLowerCase()):!0);const k=r=>{s(m=>m.filter(b=>b.id!==r))},D=()=>{s(r=>r.filter(m=>!l.includes(m.id))),f([])()};return e.jsx(x,{pt:2,pb:4,children:e.jsxs(L,{children:[e.jsxs(x,{px:2,pt:2,children:[e.jsx(Q,{value:n.role,changeTab:U}),e.jsx(W,{value:n.search,gridRoute:"/dashboard/user-grid",listRoute:"/dashboard/user-list",onChange:r=>S("search",r.target.value)})]}),l.length>0&&e.jsx(q,{selected:l.length,handleDeleteRows:D}),e.jsx(ee,{children:e.jsx(O,{autoHide:!1,children:e.jsxs(V,{children:[e.jsx(ne,{order:d,orderBy:p,numSelected:l.length,rowCount:g.length,onRequestSort:v,onSelectAllRows:f(g.map(r=>r.id))}),e.jsxs(G,{children:[g.slice(o*t,o*t+t).map(r=>e.jsx(ae,{user:r,isSelected:a(r.id),handleSelectRow:u,handleDeleteUser:k},r.id)),g.length===0&&e.jsx(N,{})]})]})})}),e.jsx(x,{padding:1,children:e.jsx(re,{page:o,component:"div",rowsPerPage:t,count:g.length,onPageChange:R,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:y})})]})})},We=()=>e.jsx(te,{});export{We as default};
