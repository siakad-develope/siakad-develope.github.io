import{r as m,j as e,B as i,N as p,P as d,L as f,G as a,d as A,T as g,p as F,F as z,R as I}from"./index-fe46112a.js";import{A as R,a as T}from"./amplifyContext-dbfba466.js";import{c as V,a as j,u as q}from"./formik.esm-4de4872a.js";import{L as w}from"./Layout-b7e982db.js";import{L as b}from"./LoadingButton-b4aa6158.js";import{C as E}from"./Checkbox-a1ff8553.js";import{V as H,a as N}from"./VisibilityOff-bb5e910b.js";import"./CircularProgress-69499672.js";import"./SwitchBase-97b0f4c8.js";const G=()=>{const{login:S,logout:y,user:c,isAuthenticated:P}=m.useContext(R),[h,t]=m.useState(!1),[n,L]=m.useState(!1),B={email:"nabed420@gmail.com",password:"123456",remember:!0},C=V().shape({email:j().email("Must be a valid email").max(255).required("Email is required"),password:j().min(6,"Password should be of minimum 6 characters length").required("Password is required")}),{errors:r,values:s,touched:o,handleBlur:u,handleChange:l,handleSubmit:W}=q({initialValues:B,validationSchema:C,onSubmit:async x=>{t(!0);try{await S(x.email,x.password),t(!1)}catch(v){t(!1),console.log("login error -> ",v)}}}),k={endAdornment:e.jsx(I,{onClick:()=>L(!n),sx:{cursor:"pointer"},children:n?e.jsx(H,{fontSize:"small"}):e.jsx(N,{fontSize:"small"})})};return P&&c?e.jsx(w,{login:!0,children:e.jsxs(i,{maxWidth:550,p:4,width:"100%",children:[e.jsx(p,{fontSize:{sm:30,xs:25},children:"Welcome Back"}),e.jsxs(d,{mt:1,mb:6,color:"text.secondary",children:["Hello! Mr. ",c.name]}),e.jsx(b,{fullWidth:!0,color:"error",loading:h,variant:"contained",onClick:y,children:"Logout"})]})}):e.jsx(w,{login:!0,children:e.jsxs(i,{maxWidth:550,p:4,children:[e.jsx(p,{fontSize:{sm:30,xs:25},children:"Sign In"}),e.jsxs(d,{mt:1,mb:6,color:"text.secondary",children:["New user?"," ",e.jsx(i,{fontWeight:500,component:f,href:"/amplify/register",children:"Create an Account"})]}),e.jsx("form",{onSubmit:W,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsxs(a,{item:!0,xs:12,children:[e.jsx(A,{fontSize:16,mb:1.5,children:"Login with your email id"}),e.jsx(g,{fullWidth:!0,placeholder:"Enter your work email",name:"email",onBlur:u,value:s.email,onChange:l,helperText:o.email&&r.email,error:!!(o.email&&r.email)})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsx(g,{fullWidth:!0,placeholder:"Password",type:n?"text":"password",name:"password",onBlur:u,value:s.password,onChange:l,helperText:o.password&&r.password,error:!!(o.password&&r.password),InputProps:k}),e.jsxs(F,{my:1,children:[e.jsxs(z,{alignItems:"center",gap:1,children:[e.jsx(E,{sx:{p:0},name:"remember",value:s.remember,onChange:l,checked:s.remember}),e.jsx(d,{fontWeight:500,children:"Remember me"})]}),e.jsx(i,{href:"#",fontSize:13,component:f,sx:{color:"error.500",fontWeight:500},children:"Forget Password?"})]})]}),e.jsx(a,{item:!0,xs:12,children:e.jsx(b,{loading:h,type:"submit",variant:"contained",fullWidth:!0,children:"Sign In"})})]})})]})})},X=()=>e.jsx(T,{children:e.jsx(G,{})});export{X as default};
