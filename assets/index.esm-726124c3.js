import{$ as f}from"./index-90aa246b.js";var E=function(n){return typeof n=="object"&&n!==null},x=function(n){var b=n.value,A=b===void 0?"":b,S=n.numInputs,o=S===void 0?4:S,F=n.onChange,V=n.renderInput,w=n.shouldAutoFocus,C=w===void 0?!1:w,N=n.inputType,m=N===void 0?"text":N,y=n.renderSeparator,p=n.placeholder,s=n.containerStyle,d=n.inputStyle,O=f.useState(0),r=O[0],D=O[1],l=f.useRef([]),v=function(){return A?A.toString().split(""):[]},I=m==="number"||m==="tel";f.useEffect(function(){l.current=l.current.slice(0,o)},[o]),f.useEffect(function(){var e;C&&((e=l.current[0])===null||e===void 0||e.focus())},[C]);var k=function(){if(typeof p=="string"){if(p.length===o)return p;p.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},P=function(e){var t=I?!isNaN(Number(e)):typeof e=="string";return t&&e.trim().length===1},j=function(e){var t=e.target.value;P(t)&&(h(t),i(r+1))},B=function(e){var t=e.nativeEvent;P(e.target.value)||(t.data===null&&t.inputType==="deleteContentBackward"&&(e.preventDefault(),h(""),i(r-1)),e.target.value="")},R=function(e){return function(t){D(t),e.target.select()}},_=function(){D(r-1)},L=function(e){var t=v();[e.code,e.key].includes("Backspace")?(e.preventDefault(),h(""),i(r-1)):e.code==="Delete"?(e.preventDefault(),h("")):e.code==="ArrowLeft"?(e.preventDefault(),i(r-1)):e.code==="ArrowRight"||e.key===t[r]?(e.preventDefault(),i(r+1)):(e.code==="Spacebar"||e.code==="Space"||e.code==="ArrowUp"||e.code==="ArrowDown")&&e.preventDefault()},i=function(e){var t,u,a=Math.max(Math.min(o-1,e),0);l.current[a]&&((t=l.current[a])===null||t===void 0||t.focus(),(u=l.current[a])===null||u===void 0||u.select(),D(a))},h=function(e){var t=v();t[r]=e[0],T(t)},T=function(e){var t=e.join("");F(t)},M=function(e){var t;e.preventDefault();var u=v(),a=r,c=e.clipboardData.getData("text/plain").slice(0,o-r).split("");if(!(I&&c.some(function(K){return isNaN(Number(K))}))){for(var g=0;g<o;++g)g>=r&&c.length>0&&(u[g]=(t=c.shift())!==null&&t!==void 0?t:"",a++);i(a),T(u)}};return f.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},E(s)&&s),className:typeof s=="string"?s:void 0},Array.from({length:o},function(e,t){return t}).map(function(e){var t,u,a;return f.createElement(f.Fragment,{key:e},V({value:(t=v()[e])!==null&&t!==void 0?t:"",placeholder:(a=(u=k())===null||u===void 0?void 0:u[e])!==null&&a!==void 0?a:void 0,ref:function(c){return l.current[e]=c},onChange:j,onFocus:function(c){return R(c)(e)},onBlur:_,onKeyDown:L,onPaste:M,autoComplete:"off",maxLength:1,"aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign({width:"1em",textAlign:"center"},E(d)&&d),className:typeof d=="string"?d:void 0,type:m,inputMode:I?"numeric":"text",onInput:B},e),e<o-1&&(typeof y=="function"?y(e):y))}))};export{x as O};
