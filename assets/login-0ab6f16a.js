import{r as m,j as e,B as i,N as p,P as d,L as g,G as t,d as A,T as f,p as F,F as z,R as I}from"./index-90aa246b.js";import{A as T,a as R}from"./jwtContext-c9c126f9.js";import{c as V,a as j,u as q}from"./formik.esm-15c98e0c.js";import{L as w}from"./Layout-215fc650.js";import{L as b}from"./LoadingButton-29e64df4.js";import{C as E}from"./Checkbox-19258f51.js";import{V as H,a as N}from"./VisibilityOff-1026c153.js";import"./CircularProgress-f218bc4f.js";import"./SwitchBase-3d67df03.js";const G=()=>{const[c,a]=m.useState(!1),[n,S]=m.useState(!1),{login:P,logout:y,user:h,isAuthenticated:L}=m.useContext(T),W={email:"nabed420@gmail.com",password:"123456",remember:!0},B=V().shape({email:j().email("Must be a valid email").max(255).required("Email is required"),password:j().min(6,"Password should be of minimum 6 characters length").required("Password is required")}),{errors:r,values:s,touched:o,handleBlur:u,handleChange:l,handleSubmit:C}=q({initialValues:W,validationSchema:B,onSubmit:async x=>{try{a(!0),await P(x.email,x.password),a(!1)}catch(v){a(!1),console.log("login error -> ",v)}}}),k={endAdornment:e.jsx(I,{onClick:()=>S(!n),sx:{cursor:"pointer"},children:n?e.jsx(H,{fontSize:"small"}):e.jsx(N,{fontSize:"small"})})};return L&&h?e.jsx(w,{login:!0,children:e.jsxs(i,{maxWidth:550,p:4,width:"100%",children:[e.jsx(p,{fontSize:{sm:30,xs:25},children:"Welcome Back"}),e.jsxs(d,{mt:1,mb:6,color:"text.secondary",children:["Hello! Mr. ",h.name]}),e.jsx(b,{fullWidth:!0,color:"error",loading:c,variant:"contained",onClick:y,children:"Logout"})]})}):e.jsx(w,{login:!0,children:e.jsxs(i,{maxWidth:550,p:4,children:[e.jsx(p,{fontSize:{sm:30,xs:25},children:"Sign In"}),e.jsxs(d,{mt:1,mb:6,color:"text.secondary",children:["New user?"," ",e.jsx(i,{fontWeight:500,component:g,href:"/jwt/register",children:"Create an Account"})]}),e.jsx("form",{onSubmit:C,children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(A,{fontSize:16,mb:1.5,children:"Login with your email id"}),e.jsx(f,{fullWidth:!0,placeholder:"Enter your work email",name:"email",onBlur:u,value:s.email,onChange:l,helperText:o.email&&r.email,error:!!(o.email&&r.email)})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(f,{fullWidth:!0,placeholder:"Password",type:n?"text":"password",name:"password",onBlur:u,value:s.password,onChange:l,helperText:o.password&&r.password,error:!!(o.password&&r.password),InputProps:k}),e.jsxs(F,{my:1,children:[e.jsxs(z,{alignItems:"center",gap:1,children:[e.jsx(E,{sx:{p:0},name:"remember",value:s.remember,onChange:l,checked:s.remember}),e.jsx(d,{fontWeight:500,children:"Remember me"})]}),e.jsx(i,{href:"#",fontSize:13,component:g,sx:{color:"error.500",fontWeight:500},children:"Forget Password?"})]})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{loading:c,type:"submit",variant:"contained",fullWidth:!0,children:"Sign In"})})]})})]})})},X=()=>e.jsx(R,{children:e.jsx(G,{})});export{X as default};
